<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor de Monedas Extranjeras</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üí∞ Monitor de Monedas Extranjeras</h1>
            <p class="subtitle">Valores en tiempo real desde m√∫ltiples fuentes</p>
        </header>

        <div class="update-info">
            <span id="lastUpdate">Cargando datos...</span>
            <div class="controls">
                <select id="apiSelector" onchange="changeAPI()">
                    <option value="all">üåê Todas las APIs</option>
                    <option value="mindicador">üá®üá± Mindicador (Chile)</option>
                    <option value="coingecko">‚Çø CoinGecko (Cripto)</option>
                    <option value="exchangerate">üí± ExchangeRate</option>
                    <option value="dolarapi">üíµ DolarAPI (LATAM)</option>
                </select>
                <button id="refreshBtn" onclick="loadData()">üîÑ Actualizar</button>
            </div>
        </div>

        <!-- Monedas Tradicionales Chile -->
        <div class="section-header">
            <h2>üá®üá± Indicadores Chile</h2>
        </div>
        <div class="cards-container">
            <div class="card dolar-observado">
                <div class="card-header">
                    <h2>D√≥lar Observado</h2>
                    <span class="badge">Oficial</span>
                </div>
                <div class="card-body">
                    <p class="value" id="dolarObservado">-</p>
                    <p class="variation" id="variacionObservado">-</p>
                    <p class="api-source" id="sourceDolarObservado">-</p>
                </div>
            </div>

            <div class="card dolar-intercambio">
                <div class="card-header">
                    <h2>D√≥lar Acuerdo</h2>
                    <span class="badge">Intercambio</span>
                </div>
                <div class="card-body">
                    <p class="value" id="dolarAcuerdo">-</p>
                    <p class="variation" id="variacionAcuerdo">-</p>
                    <p class="api-source" id="sourceDolarAcuerdo">-</p>
                </div>
            </div>

            <div class="card euro">
                <div class="card-header">
                    <h2>Euro</h2>
                    <span class="badge">EUR</span>
                </div>
                <div class="card-body">
                    <p class="value" id="euro">-</p>
                    <p class="variation" id="variacionEuro">-</p>
                    <p class="api-source" id="sourceEuro">-</p>
                </div>
            </div>

            <div class="card uf">
                <div class="card-header">
                    <h2>UF</h2>
                    <span class="badge">Unidad Fomento</span>
                </div>
                <div class="card-body">
                    <p class="value" id="uf">-</p>
                    <p class="variation" id="variacionUF">-</p>
                    <p class="api-source" id="sourceUF">-</p>
                </div>
            </div>
        </div>

        <!-- Monedas Latinoamericanas -->
        <div class="section-header">
            <h2>üåé Monedas Latinoamericanas</h2>
        </div>
        <div class="cards-container">
            <div class="card peso-argentino">
                <div class="card-header">
                    <h2>Peso Argentino</h2>
                    <span class="badge">üá¶üá∑ ARS</span>
                </div>
                <div class="card-body">
                    <p class="value" id="pesoArgentino">-</p>
                    <p class="variation" id="variacionARS">-</p>
                    <p class="api-source" id="sourceARS">-</p>
                </div>
            </div>

            <div class="card real-brasileno">
                <div class="card-header">
                    <h2>Real Brasile√±o</h2>
                    <span class="badge">üáßüá∑ BRL</span>
                </div>
                <div class="card-body">
                    <p class="value" id="realBrasileno">-</p>
                    <p class="variation" id="variacionBRL">-</p>
                    <p class="api-source" id="sourceBRL">-</p>
                </div>
            </div>
        </div>

        <!-- Monedas Internacionales -->
        <div class="section-header">
            <h2>üåç Monedas Internacionales</h2>
        </div>
        <div class="cards-container">
            <div class="card libra">
                <div class="card-header">
                    <h2>Libra Esterlina</h2>
                    <span class="badge">üá¨üáß GBP</span>
                </div>
                <div class="card-body">
                    <p class="value" id="libra">-</p>
                    <p class="variation" id="variacionGBP">-</p>
                    <p class="api-source" id="sourceGBP">-</p>
                </div>
            </div>

            <div class="card yen">
                <div class="card-header">
                    <h2>Yen Japon√©s</h2>
                    <span class="badge">üáØüáµ JPY</span>
                </div>
                <div class="card-body">
                    <p class="value" id="yen">-</p>
                    <p class="variation" id="variacionJPY">-</p>
                    <p class="api-source" id="sourceJPY">-</p>
                </div>
            </div>
        </div>

        <!-- Criptomonedas -->
        <div class="section-header">
            <h2>‚Çø Criptomonedas</h2>
        </div>
        <div class="cards-container">
            <div class="card bitcoin">
                <div class="card-header">
                    <h2>Bitcoin</h2>
                    <span class="badge">‚Çø BTC</span>
                </div>
                <div class="card-body">
                    <p class="value" id="bitcoin">-</p>
                    <p class="variation" id="variacionBTC">-</p>
                    <p class="api-source" id="sourceBTC">-</p>
                </div>
            </div>

            <div class="card ethereum">
                <div class="card-header">
                    <h2>Ethereum</h2>
                    <span class="badge">Œû ETH</span>
                </div>
                <div class="card-body">
                    <p class="value" id="ethereum">-</p>
                    <p class="variation" id="variacionETH">-</p>
                    <p class="api-source" id="sourceETH">-</p>
                </div>
            </div>
        </div>

        <!-- Estad√≠sticas del D√≥lar -->
        <div class="stats-container">
            <h2>üìà Estad√≠sticas del D√≥lar Observado</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-label">M√≠nimo (30 d√≠as)</span>
                    <span class="stat-value" id="statMin">-</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">M√°ximo (30 d√≠as)</span>
                    <span class="stat-value" id="statMax">-</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Promedio (30 d√≠as)</span>
                    <span class="stat-value" id="statAvg">-</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Variaci√≥n (30 d√≠as)</span>
                    <span class="stat-value" id="statChange">-</span>
                </div>
            </div>
        </div>

        <!-- Gr√°fico Principal con Selector de Per√≠odo -->
        <div class="chart-container">
            <div class="chart-header">
                <h2>üìä Evoluci√≥n Hist√≥rica del D√≥lar Observado</h2>
                <div class="period-selector">
                    <button class="period-btn" data-period="7" onclick="changePeriod(7)">7 d√≠as</button>
                    <button class="period-btn active" data-period="30" onclick="changePeriod(30)">30 d√≠as</button>
                    <button class="period-btn" data-period="90" onclick="changePeriod(90)">90 d√≠as</button>
                    <button class="period-btn" data-period="365" onclick="changePeriod(365)">1 a√±o</button>
                </div>
            </div>
            <canvas id="chartMain"></canvas>
        </div>

        <!-- Gr√°fico Comparativo -->
        <div class="chart-container">
            <h2>üîÑ Comparaci√≥n: D√≥lar, Euro y UF (√öltimos 30 d√≠as)</h2>
            <p class="chart-description">Valores normalizados para facilitar la comparaci√≥n de tendencias</p>
            <canvas id="chartComparison"></canvas>
        </div>

        <!-- Gr√°fico de Volatilidad -->
        <div class="chart-container">
            <h2>üìâ Volatilidad Diaria del D√≥lar (√öltimos 30 d√≠as)</h2>
            <p class="chart-description">Variaci√≥n porcentual d√≠a a d√≠a</p>
            <canvas id="chartVolatility"></canvas>
        </div>

        <!-- Gr√°fico de Criptomonedas -->
        <div class="chart-container">
            <h2>‚Çø Bitcoin vs Ethereum (√öltimos 7 d√≠as)</h2>
            <p class="chart-description">Comparaci√≥n de precios en USD</p>
            <canvas id="chartCrypto"></canvas>
        </div>

        <footer>
            <p>Datos proporcionados por m√∫ltiples fuentes:</p>
            <div class="api-credits">
                <a href="https://mindicador.cl" target="_blank">mindicador.cl</a> |
                <a href="https://www.coingecko.com" target="_blank">CoinGecko</a> |
                <a href="https://exchangeratesapi.io" target="_blank">ExchangeRatesAPI</a> |
                <a href="https://dolarapi.com" target="_blank">DolarAPI</a>
            </div>
            <p class="disclaimer">* Los valores son referenciales y pueden variar seg√∫n la fuente</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>